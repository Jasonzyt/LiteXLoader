## 💡 插件加载相关 API

这里提供了一些与加载器操作相关的接口。

### 获取LiteXLoader加载器版本

`lxl.version()`

- 返回值：加载器版本号，格式`主版本.次版本.开发版本`。如`1.0.1`
- 返回值类型： `String`

<br>

### 列出所有已加载的插件

`lxl.listPlugins()`

- 返回值：已加载的所有的插件名字列表
- 返回值类型： `Array<String,String,...>`

<br>

### 远程函数调用

为了可以让开发者开发的前置插件能够为其他插件提供接口和服务，这里提供了远程函数调用功能，让一个LXL插件可以调用另一个插件中已有的函数。

#### 导出函数

首先，为了你的插件中的函数可以被其他插件定位，你首先将你插件中的某些函数导出，让别人可以通过名字找到你的接口所在。使用这个函数来导出你想要共享的函数

`lxl.export(func,name)`

- 参数：
  - func : `Function`  
    要导出的函数
  - name : `String`  
    函数的导出名称。其他插件根据导出名称来调用这个函数
- 返回值：是否设置成功
- 返回值类型： `Boolean`

<br>

#### 远程调用函数

在前置插件设置过函数的导出名称之后，你就可以用这个函数来调用它里面的函数了。

`lxl.call(func,para1,para2,...)`

- 参数：
  - func : `String`  
    要调用的函数的导出名称
  - para1, para2, ... : `指定类型`  
    你要向目标函数传递的参数，参数数量以目标函数要求的参数数量为准  
    传递参数时，可以传递的数据类型有：   
    `Integer` `Float` `String` `Boolean` `Array` `Object `  
    其中，`Array` 和 `Object` 内部仅能嵌套上面出现的这些元素
- 返回值：调用的函数执行的返回结果
- 返回值类型： `任意类型`

当然，执行这个函数的前提是你要调用的前置插件已经被LXL加载。因此，你可能需要用下面的函数来设置依赖库，让你需要的前置插件被优先加载，保证执行成功

<br>

### 设置插件依赖库

有的时候，你需要确保某些插件在你自己的插件之前加载，以使用他们提供的前置服务，我们称这些前置插件为**依赖库**。

为此，LXL提供了下面的接口来提前加载插件所需要的依赖库，从本地文件，甚至可以从远程HTTP地址下载你所需的依赖库文件

`lxl.require(path[,remotePath])`

- 参数：
  - path : `String`  
    依赖库文件名（如`addplugin.js`)
  - remotePath : `String`  
    （可选参数）如果未找到这个依赖库，将尝试从这个地址下载所需要的依赖库文件并加载  
    如果下载失败，同样将返回加载失败。

- 返回值：是否加载依赖库成功
- 返回值类型： `Boolean`

注：如果出现循环依赖的情况，LXL将报错并返回失败。请注意避免循环依赖  
另外，依赖库文件的远程下载使用HTTP协议，插件作者可以将代码托管在GitHub或Gitee等稳定的大型网站上，并将外链提供给其他开发者以供远程下载使用。

<br>