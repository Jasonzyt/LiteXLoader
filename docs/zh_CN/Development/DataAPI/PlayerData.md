## 🏃‍♂️ 玩家附加数据

在实际开发中，经常有需要将某些数据和服务器中的某个玩家相关联，并在插件的工作周期中不断维护这些数据的需求。  
LXL为此设计了玩家附加数据接口，给予在整个生命周期中跟踪某个特定玩家相关数据的能力。附加数据储存接口使用键 - 值对的形式保存数据。  
即使在玩家对象超出作用域被销毁之后，玩家附加数据将仍然存在，当你再次获得这个玩家的玩家对象的时候，同样可以读取到之前储存的附加数据。只有当服务端关闭的时候，所有的数据才会被统一销毁。

对于某个特定的玩家对象`pl`，有如下这些接口：

#### 储存玩家附加数据

`pl.setExtraData(name,data)`

- 参数：
  - name : `String`  
    要储存到附加数据的名字
  - data : `任意类型`  
    你要储存的附加数据，可以是`Null`

- 返回值：是否成功储存
- 返回值类型：`Boolean` 

<br>

#### 获取玩家附加数据

`pl.getExtraData(name)`

- 参数：
  - name : `String`  
    要读取的附加数据的名字
- 返回值：储存的附加数据
- 返回值类型：`任意类型`，取决于储存的数据类型
  -  如返回值为 `Null` 则表示未获取到指定的附加数据，或者数据为空

<br>

#### 删除玩家附加数据

`pl.delExtraData(name)`

- 参数：
  - name : `String`  
    要删除的附加数据的名字
- 返回值：是否删除成功
- 返回值类型：`Boolean`

<br>

#### 解释：关于数据储存的可持续性

在设计附加数据接口的时候，LXL特地实现了这种机制：  
附加数据不会随着玩家离开服务器而清除，当某个玩家再次进服的时候，`getExtraData`会读到他上次在服里的时候储存的附加数据。  
LXL特地通过这种效果来达到**可持续性**的要求，即在插件的整个生命周期内持续跟踪特定玩家的数据。  
如果这种效果和你的预期不一致，可能需要你做手动做一些额外的处理

<br>